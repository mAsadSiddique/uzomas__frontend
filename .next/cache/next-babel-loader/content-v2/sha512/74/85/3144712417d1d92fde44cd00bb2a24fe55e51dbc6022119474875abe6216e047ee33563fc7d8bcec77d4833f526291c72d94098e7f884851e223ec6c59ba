{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"F:/React Clone/market-luxery-leader/market-luxery-leader/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\React Clone\\\\market-luxery-leader\\\\market-luxery-leader\\\\components\\\\partials\\\\account\\\\Payment.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport { Radio, Select } from 'antd';\nimport ModulePaymentOrderSummary from '~/components/partials/account/modules/ModulePaymentOrderSummary';\nimport { contractAbi, contractAddress } from '../../../utilities/data';\nimport Web3 from 'web3';\nimport LazyLoad from 'react-lazyload';\nvar Option = Select.Option;\n\nvar Payment = /*#__PURE__*/function (_Component) {\n  _inherits(Payment, _Component);\n\n  var _super = _createSuper(Payment);\n\n  function Payment(props) {\n    var _this;\n\n    _classCallCheck(this, Payment);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"loadWeb3\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var isConnected;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              isConnected = false;\n              _context.prev = 1;\n\n              if (!window.ethereum) {\n                _context.next = 9;\n                break;\n              }\n\n              window.web3 = new Web3(window.ethereum);\n              _context.next = 6;\n              return window.ethereum.enable();\n\n            case 6:\n              isConnected = true;\n              _context.next = 10;\n              break;\n\n            case 9:\n              if (window.web3) {\n                window.web3 = new Web3(window.web3.currentProvider);\n                isConnected = true;\n              } else {\n                isConnected = false;\n                notification.open({\n                  message: 'Metamask is not installed',\n                  description: ' please install it on your browser to connect.',\n                  duration: 500\n                }); // \"Metamask is not installed, please install it on your browser to connect.\",\n              }\n\n            case 10:\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 12]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePurchase\", function () {\n      var _this$props, _this$props2;\n\n      var web3 = window.web3;\n\n      var _amount = (_this$props = _this.props) === null || _this$props === void 0 ? void 0 : _this$props.amount.toString();\n\n      var contract = new web3.eth.Contract(contractAbi, contractAddress);\n      var account = (_this$props2 = _this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.account;\n      console.log('web=======', web3.utils.toWei(_amount, 'ether'));\n\n      try {\n        contract.methods.stakeEth().send({\n          from: account,\n          value: web3.utils.toWei(_amount, 'ether')\n        }).on('transactionHash', /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(hash) {\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          return function (_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).on('receipt', /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(receipt) {\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          return function (_x2) {\n            return _ref3.apply(this, arguments);\n          };\n        }()).on('error', /*#__PURE__*/function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(error) {\n            return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    console.log('error', error);\n\n                  case 1:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }\n            }, _callee4);\n          }));\n\n          return function (_x3) {\n            return _ref4.apply(this, arguments);\n          };\n        }());\n      } catch (e) {\n        console.log('error rejection', e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangePaymentMethod\", function (e) {\n      _this.setState({\n        method: e.target.value\n      });\n    });\n\n    _this.state = {\n      method: 2\n    };\n    return _this;\n  }\n\n  _createClass(Payment, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadWeb3();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var month = [],\n          year = [];\n\n      for (var i = 1; i <= 12; i++) {\n        month.push(i);\n      }\n\n      for (var _i = 2019; _i <= 2050; _i++) {\n        year.push(_i);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-checkout ps-section--shopping\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ps-section__header\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ps-section__content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-8 col-lg-8 col-md-12 col-sm-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ps-block--shipping\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Payment Methods\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ps-block--payment-method\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ps-block__content\",\n                      children: this.state.method === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ps-block__tab\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            children: \"Card Number\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 144,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            className: \"form-control\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 147,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            children: \"Card Holders\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 153,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            className: \"form-control\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 156,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 152,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-8\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"form-group\",\n                              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                children: \"Expiration Date\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 164,\n                                columnNumber: 65\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"row\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"col-6\",\n                                  children: /*#__PURE__*/_jsxDEV(Select, {\n                                    defaultValue: 1,\n                                    children: month.map(function (item) {\n                                      return /*#__PURE__*/_jsxDEV(Option, {\n                                        value: item,\n                                        children: item\n                                      }, item, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 178,\n                                        columnNumber: 85\n                                      }, _this2);\n                                    })\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 170,\n                                    columnNumber: 73\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 169,\n                                  columnNumber: 69\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"col-6\",\n                                  children: /*#__PURE__*/_jsxDEV(Select, {\n                                    defaultValue: 2020,\n                                    children: year.map(function (item) {\n                                      return /*#__PURE__*/_jsxDEV(Option, {\n                                        value: item,\n                                        children: item\n                                      }, item, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 202,\n                                        columnNumber: 85\n                                      }, _this2);\n                                    })\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 194,\n                                    columnNumber: 73\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 193,\n                                  columnNumber: 69\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 168,\n                                columnNumber: 65\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 163,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 162,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-4\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"form-group\",\n                              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                children: \"CVV\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 222,\n                                columnNumber: 65\n                              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                type: \"text\",\n                                className: \"form-control\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 225,\n                                columnNumber: 65\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 221,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 161,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"ps-btn ps-btn--fullwidth\",\n                            children: \"Submit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 233,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 232,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 49\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ps-block__tab\",\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          className: \"ps-btn\",\n                          onClick: this.handlePurchase,\n                          children: [/*#__PURE__*/_jsxDEV(LazyLoad, {\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: \"/static/img/meta-mask.png\",\n                              alt: \"Luxury Ledger Market\",\n                              style: {\n                                paddingRight: '15px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 246,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 245,\n                            columnNumber: 57\n                          }, this), \"Pay Now\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 240,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ps-block__footer\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      href: \"/account/shipping\",\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"icon-arrow-left mr-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 49\n                        }, this), \"Return to shipping\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-4 col-lg-4 col-md-12 col-sm-12 \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ps-form__orders\",\n                  children: /*#__PURE__*/_jsxDEV(ModulePaymentOrderSummary, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return Payment;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$cart, _state$auth;\n\n  console.log('state', state);\n  return {\n    amount: state === null || state === void 0 ? void 0 : (_state$cart = state.cart) === null || _state$cart === void 0 ? void 0 : _state$cart.amount,\n    account: state === null || state === void 0 ? void 0 : (_state$auth = state.auth) === null || _state$auth === void 0 ? void 0 : _state$auth.account\n  };\n};\n\nexport default connect(mapStateToProps)(Payment);","map":{"version":3,"sources":["F:/React Clone/market-luxery-leader/market-luxery-leader/components/partials/account/Payment.jsx"],"names":["React","Component","connect","Link","Radio","Select","ModulePaymentOrderSummary","contractAbi","contractAddress","Web3","LazyLoad","Option","Payment","props","isConnected","window","ethereum","web3","enable","currentProvider","notification","open","message","description","duration","console","log","_amount","amount","toString","contract","eth","Contract","account","utils","toWei","methods","stakeEth","send","from","value","on","hash","receipt","error","e","setState","method","target","state","loadWeb3","month","year","i","push","map","item","handlePurchase","paddingRight","mapStateToProps","cart","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Link from 'next/link';\r\nimport { Radio, Select } from 'antd';\r\nimport ModulePaymentOrderSummary from '~/components/partials/account/modules/ModulePaymentOrderSummary';\r\nimport { contractAbi, contractAddress } from '../../../utilities/data';\r\nimport Web3 from 'web3';\r\nimport LazyLoad from 'react-lazyload';\r\n\r\nconst { Option } = Select;\r\n\r\nclass Payment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            method: 2,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadWeb3();\r\n    }\r\n    loadWeb3 = async () => {\r\n        let isConnected = false;\r\n        try {\r\n            if (window.ethereum) {\r\n                window.web3 = new Web3(window.ethereum);\r\n                await window.ethereum.enable();\r\n                isConnected = true;\r\n            } else if (window.web3) {\r\n                window.web3 = new Web3(window.web3.currentProvider);\r\n                isConnected = true;\r\n            } else {\r\n                isConnected = false;\r\n                notification.open({\r\n                    message: 'Metamask is not installed',\r\n                    description:\r\n                        ' please install it on your browser to connect.',\r\n                    duration: 500,\r\n                });\r\n                // \"Metamask is not installed, please install it on your browser to connect.\",\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    handlePurchase = () => {\r\n        const web3 = window.web3;\r\n\r\n        let _amount = this.props?.amount.toString();\r\n        let contract = new web3.eth.Contract(contractAbi, contractAddress);\r\n        let account = this.props?.account;\r\n        console.log('web=======', web3.utils.toWei(_amount, 'ether'));\r\n        try {\r\n            contract.methods\r\n                .stakeEth()\r\n                .send({\r\n                    from: account,\r\n                    value: web3.utils.toWei(_amount, 'ether'),\r\n                })\r\n                .on('transactionHash', async (hash) => {\r\n                    // message: 'Your transaction is pending',\r\n                })\r\n                .on('receipt', async (receipt) => {\r\n                    // message: 'Your transaction is confirmed',\r\n                })\r\n                .on('error', async (error) => {\r\n                    console.log('error', error);\r\n                });\r\n        } catch (e) {\r\n            console.log('error rejection', e);\r\n        }\r\n    };\r\n    handleChangePaymentMethod = (e) => {\r\n        this.setState({ method: e.target.value });\r\n    };\r\n\r\n    render() {\r\n        let month = [],\r\n            year = [];\r\n        for (let i = 1; i <= 12; i++) {\r\n            month.push(i);\r\n        }\r\n        for (let i = 2019; i <= 2050; i++) {\r\n            year.push(i);\r\n        }\r\n        return (\r\n            <div className=\"ps-checkout ps-section--shopping\">\r\n                <div className=\"container\">\r\n                    <div className=\"ps-section__header\">\r\n                        <h1>Payment</h1>\r\n                    </div>\r\n                    <div className=\"ps-section__content\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-xl-8 col-lg-8 col-md-12 col-sm-12\">\r\n                                <div className=\"ps-block--shipping\">\r\n                                    {/* <div className=\"ps-block__panel\">\r\n                                        <figure>\r\n                                            <small>Contact</small>\r\n                                            <p>test@gmail.com</p>\r\n                                            <Link href=\"/account/checkout\">\r\n                                                <a>Change</a>\r\n                                            </Link>\r\n                                        </figure>\r\n                                        <figure>\r\n                                            <small>Ship to</small>\r\n                                            <p>\r\n                                                2015 South Street, Midland,\r\n                                                Texas\r\n                                            </p>\r\n                                            <Link href=\"/account/checkout\">\r\n                                                <a>Change</a>\r\n                                            </Link>\r\n                                        </figure>\r\n                                    </div> */}\r\n                                    {/* <h4>Shipping Method</h4> */}\r\n                                    {/* <div className=\"ps-block__panel\">\r\n                                        <figure>\r\n                                            <small>\r\n                                                International Shipping\r\n                                            </small>\r\n                                            <strong>$20.00</strong>\r\n                                        </figure>\r\n                                    </div> */}\r\n                                    <h4>Payment Methods</h4>\r\n                                    <div className=\"ps-block--payment-method\">\r\n                                        {/* <div className=\"ps-block__header\">\r\n                                            <Radio.Group\r\n                                                onChange={e =>\r\n                                                    this.handleChangePaymentMethod(\r\n                                                        e\r\n                                                    )\r\n                                                }\r\n                                                value={this.state.method}>\r\n                                                <Radio value={1}>\r\n                                                    Visa / Master Card\r\n                                                </Radio>\r\n                                                <Radio value={2}>Paypal</Radio>\r\n                                            </Radio.Group>\r\n                                        </div> */}\r\n                                        <div className=\"ps-block__content\">\r\n                                            {this.state.method === 1 ? (\r\n                                                <div className=\"ps-block__tab\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label>\r\n                                                            Card Number\r\n                                                        </label>\r\n                                                        <input\r\n                                                            type=\"text\"\r\n                                                            className=\"form-control\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <label>\r\n                                                            Card Holders\r\n                                                        </label>\r\n                                                        <input\r\n                                                            type=\"text\"\r\n                                                            className=\"form-control\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-8\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label>\r\n                                                                    Expiration\r\n                                                                    Date\r\n                                                                </label>\r\n                                                                <div className=\"row\">\r\n                                                                    <div className=\"col-6\">\r\n                                                                        <Select\r\n                                                                            defaultValue={\r\n                                                                                1\r\n                                                                            }>\r\n                                                                            {month.map(\r\n                                                                                (\r\n                                                                                    item\r\n                                                                                ) => (\r\n                                                                                    <Option\r\n                                                                                        value={\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                        key={\r\n                                                                                            item\r\n                                                                                        }>\r\n                                                                                        {\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                    </Option>\r\n                                                                                )\r\n                                                                            )}\r\n                                                                        </Select>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-6\">\r\n                                                                        <Select\r\n                                                                            defaultValue={\r\n                                                                                2020\r\n                                                                            }>\r\n                                                                            {year.map(\r\n                                                                                (\r\n                                                                                    item\r\n                                                                                ) => (\r\n                                                                                    <Option\r\n                                                                                        value={\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                        key={\r\n                                                                                            item\r\n                                                                                        }>\r\n                                                                                        {\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                    </Option>\r\n                                                                                )\r\n                                                                            )}\r\n                                                                        </Select>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"col-4\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label>\r\n                                                                    CVV\r\n                                                                </label>\r\n                                                                <input\r\n                                                                    type=\"text\"\r\n                                                                    className=\"form-control\"\r\n                                                                />\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <button className=\"ps-btn ps-btn--fullwidth\">\r\n                                                            Submit\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div className=\"ps-block__tab\">\r\n                                                    <a\r\n                                                        className=\"ps-btn\"\r\n                                                        onClick={\r\n                                                            this.handlePurchase\r\n                                                        }>\r\n                                                        <LazyLoad>\r\n                                                            <img\r\n                                                                src=\"/static/img/meta-mask.png\"\r\n                                                                alt=\"Luxury Ledger Market\"\r\n                                                                style={{\r\n                                                                    paddingRight:\r\n                                                                        '15px',\r\n                                                                }}\r\n                                                            />\r\n                                                        </LazyLoad>\r\n                                                        Pay Now\r\n                                                    </a>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"ps-block__footer\">\r\n                                        <Link href=\"/account/shipping\">\r\n                                            <a>\r\n                                                <i className=\"icon-arrow-left mr-2\"></i>\r\n                                                Return to shipping\r\n                                            </a>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xl-4 col-lg-4 col-md-12 col-sm-12 \">\r\n                                <div className=\"ps-form__orders\">\r\n                                    <ModulePaymentOrderSummary />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log('state', state);\r\n    return { amount: state?.cart?.amount, account: state?.auth?.account };\r\n};\r\nexport default connect(mapStateToProps)(Payment);\r\n"]},"metadata":{},"sourceType":"module"}