{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\UZomus\\\\uzomas_frontend\\\\components\\\\partials\\\\account\\\\Payment.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport { Radio, Select } from 'antd';\nimport ModulePaymentOrderSummary from '~/components/partials/account/modules/ModulePaymentOrderSummary';\nimport { contractAbi, contractAddress } from '../../../utilities/data';\nimport Web3 from 'web3';\nimport LazyLoad from 'react-lazyload';\nconst {\n  Option\n} = Select;\n\nclass Payment extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"loadWeb3\", async () => {\n      let isConnected = false;\n\n      try {\n        if (window.ethereum) {\n          window.web3 = new Web3(window.ethereum);\n          await window.ethereum.enable();\n          isConnected = true;\n        } else if (window.web3) {\n          window.web3 = new Web3(window.web3.currentProvider);\n          isConnected = true;\n        } else {\n          isConnected = false;\n          notification.open({\n            message: 'Metamask is not installed',\n            description: ' please install it on your browser to connect.',\n            duration: 500\n          }); // \"Metamask is not installed, please install it on your browser to connect.\",\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    _defineProperty(this, \"handlePurchase\", () => {\n      var _this$props, _this$props2;\n\n      const web3 = window.web3;\n\n      let _amount = (_this$props = this.props) === null || _this$props === void 0 ? void 0 : _this$props.amount.toString();\n\n      let contract = new web3.eth.Contract(contractAbi, contractAddress);\n      let account = (_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.account;\n      console.log('web=======', web3.utils.toWei(_amount, 'ether'));\n\n      try {\n        contract.methods.stakeEth().send({\n          from: account,\n          value: web3.utils.toWei(_amount, 'ether')\n        }).on('transactionHash', async hash => {// message: 'Your transaction is pending',\n        }).on('receipt', async receipt => {// message: 'Your transaction is confirmed',\n        }).on('error', async error => {\n          console.log('error', error);\n        });\n      } catch (e) {\n        console.log('error rejection', e);\n      }\n    });\n\n    _defineProperty(this, \"handleChangePaymentMethod\", e => {\n      this.setState({\n        method: e.target.value\n      });\n    });\n\n    this.state = {\n      method: 2\n    };\n  }\n\n  componentDidMount() {\n    this.loadWeb3();\n  }\n\n  render() {\n    let month = [],\n        year = [];\n\n    for (let i = 1; i <= 12; i++) {\n      month.push(i);\n    }\n\n    for (let i = 2019; i <= 2050; i++) {\n      year.push(i);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ps-checkout ps-section--shopping\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-section__header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-section__content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-xl-8 col-lg-8 col-md-12 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ps-block--shipping\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Payment Methods\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ps-block--payment-method\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ps-block__content\",\n                    children: this.state.method === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ps-block__tab\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: \"Card Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 144,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"form-control\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: \"Card Holders\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"form-control\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 156,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-8\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"form-group\",\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: \"Expiration Date\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 164,\n                              columnNumber: 65\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"row\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col-6\",\n                                children: /*#__PURE__*/_jsxDEV(Select, {\n                                  defaultValue: 1,\n                                  children: month.map(item => /*#__PURE__*/_jsxDEV(Option, {\n                                    value: item,\n                                    children: item\n                                  }, item, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 178,\n                                    columnNumber: 85\n                                  }, this))\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 170,\n                                  columnNumber: 73\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 169,\n                                columnNumber: 69\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col-6\",\n                                children: /*#__PURE__*/_jsxDEV(Select, {\n                                  defaultValue: 2020,\n                                  children: year.map(item => /*#__PURE__*/_jsxDEV(Option, {\n                                    value: item,\n                                    children: item\n                                  }, item, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 202,\n                                    columnNumber: 85\n                                  }, this))\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 194,\n                                  columnNumber: 73\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 193,\n                                columnNumber: 69\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 168,\n                              columnNumber: 65\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 163,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 162,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-4\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"form-group\",\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: \"CVV\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 222,\n                              columnNumber: 65\n                            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                              type: \"text\",\n                              className: \"form-control\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 225,\n                              columnNumber: 65\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 221,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 220,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"ps-btn ps-btn--fullwidth\",\n                          children: \"Submit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 233,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 49\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ps-block__tab\",\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        className: \"ps-btn\",\n                        onClick: this.handlePurchase,\n                        children: [/*#__PURE__*/_jsxDEV(LazyLoad, {\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: \"/static/img/meta-mask.png\",\n                            alt: \"Luxury Ledger Market\",\n                            style: {\n                              paddingRight: '15px'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 246,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 245,\n                          columnNumber: 57\n                        }, this), \"Pay Now\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ps-block__footer\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    href: \"/account/shipping\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"icon-arrow-left mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 49\n                      }, this), \"Return to shipping\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-xl-4 col-lg-4 col-md-12 col-sm-12 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ps-form__orders\",\n                children: /*#__PURE__*/_jsxDEV(ModulePaymentOrderSummary, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  var _state$cart, _state$auth;\n\n  console.log('state', state);\n  return {\n    amount: state === null || state === void 0 ? void 0 : (_state$cart = state.cart) === null || _state$cart === void 0 ? void 0 : _state$cart.amount,\n    account: state === null || state === void 0 ? void 0 : (_state$auth = state.auth) === null || _state$auth === void 0 ? void 0 : _state$auth.account\n  };\n};\n\nexport default connect(mapStateToProps)(Payment);","map":{"version":3,"sources":["F:/UZomus/uzomas_frontend/components/partials/account/Payment.jsx"],"names":["React","Component","connect","Link","Radio","Select","ModulePaymentOrderSummary","contractAbi","contractAddress","Web3","LazyLoad","Option","Payment","constructor","props","isConnected","window","ethereum","web3","enable","currentProvider","notification","open","message","description","duration","error","console","log","_amount","amount","toString","contract","eth","Contract","account","utils","toWei","methods","stakeEth","send","from","value","on","hash","receipt","e","setState","method","target","state","componentDidMount","loadWeb3","render","month","year","i","push","map","item","handlePurchase","paddingRight","mapStateToProps","cart","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Link from 'next/link';\r\nimport { Radio, Select } from 'antd';\r\nimport ModulePaymentOrderSummary from '~/components/partials/account/modules/ModulePaymentOrderSummary';\r\nimport { contractAbi, contractAddress } from '../../../utilities/data';\r\nimport Web3 from 'web3';\r\nimport LazyLoad from 'react-lazyload';\r\n\r\nconst { Option } = Select;\r\n\r\nclass Payment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            method: 2,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadWeb3();\r\n    }\r\n    loadWeb3 = async () => {\r\n        let isConnected = false;\r\n        try {\r\n            if (window.ethereum) {\r\n                window.web3 = new Web3(window.ethereum);\r\n                await window.ethereum.enable();\r\n                isConnected = true;\r\n            } else if (window.web3) {\r\n                window.web3 = new Web3(window.web3.currentProvider);\r\n                isConnected = true;\r\n            } else {\r\n                isConnected = false;\r\n                notification.open({\r\n                    message: 'Metamask is not installed',\r\n                    description:\r\n                        ' please install it on your browser to connect.',\r\n                    duration: 500,\r\n                });\r\n                // \"Metamask is not installed, please install it on your browser to connect.\",\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    handlePurchase = () => {\r\n        const web3 = window.web3;\r\n\r\n        let _amount = this.props?.amount.toString();\r\n        let contract = new web3.eth.Contract(contractAbi, contractAddress);\r\n        let account = this.props?.account;\r\n        console.log('web=======', web3.utils.toWei(_amount, 'ether'));\r\n        try {\r\n            contract.methods\r\n                .stakeEth()\r\n                .send({\r\n                    from: account,\r\n                    value: web3.utils.toWei(_amount, 'ether'),\r\n                })\r\n                .on('transactionHash', async (hash) => {\r\n                    // message: 'Your transaction is pending',\r\n                })\r\n                .on('receipt', async (receipt) => {\r\n                    // message: 'Your transaction is confirmed',\r\n                })\r\n                .on('error', async (error) => {\r\n                    console.log('error', error);\r\n                });\r\n        } catch (e) {\r\n            console.log('error rejection', e);\r\n        }\r\n    };\r\n    handleChangePaymentMethod = (e) => {\r\n        this.setState({ method: e.target.value });\r\n    };\r\n\r\n    render() {\r\n        let month = [],\r\n            year = [];\r\n        for (let i = 1; i <= 12; i++) {\r\n            month.push(i);\r\n        }\r\n        for (let i = 2019; i <= 2050; i++) {\r\n            year.push(i);\r\n        }\r\n        return (\r\n            <div className=\"ps-checkout ps-section--shopping\">\r\n                <div className=\"container\">\r\n                    <div className=\"ps-section__header\">\r\n                        <h1>Payment</h1>\r\n                    </div>\r\n                    <div className=\"ps-section__content\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-xl-8 col-lg-8 col-md-12 col-sm-12\">\r\n                                <div className=\"ps-block--shipping\">\r\n                                    {/* <div className=\"ps-block__panel\">\r\n                                        <figure>\r\n                                            <small>Contact</small>\r\n                                            <p>test@gmail.com</p>\r\n                                            <Link href=\"/account/checkout\">\r\n                                                <a>Change</a>\r\n                                            </Link>\r\n                                        </figure>\r\n                                        <figure>\r\n                                            <small>Ship to</small>\r\n                                            <p>\r\n                                                2015 South Street, Midland,\r\n                                                Texas\r\n                                            </p>\r\n                                            <Link href=\"/account/checkout\">\r\n                                                <a>Change</a>\r\n                                            </Link>\r\n                                        </figure>\r\n                                    </div> */}\r\n                                    {/* <h4>Shipping Method</h4> */}\r\n                                    {/* <div className=\"ps-block__panel\">\r\n                                        <figure>\r\n                                            <small>\r\n                                                International Shipping\r\n                                            </small>\r\n                                            <strong>$20.00</strong>\r\n                                        </figure>\r\n                                    </div> */}\r\n                                    <h4>Payment Methods</h4>\r\n                                    <div className=\"ps-block--payment-method\">\r\n                                        {/* <div className=\"ps-block__header\">\r\n                                            <Radio.Group\r\n                                                onChange={e =>\r\n                                                    this.handleChangePaymentMethod(\r\n                                                        e\r\n                                                    )\r\n                                                }\r\n                                                value={this.state.method}>\r\n                                                <Radio value={1}>\r\n                                                    Visa / Master Card\r\n                                                </Radio>\r\n                                                <Radio value={2}>Paypal</Radio>\r\n                                            </Radio.Group>\r\n                                        </div> */}\r\n                                        <div className=\"ps-block__content\">\r\n                                            {this.state.method === 1 ? (\r\n                                                <div className=\"ps-block__tab\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label>\r\n                                                            Card Number\r\n                                                        </label>\r\n                                                        <input\r\n                                                            type=\"text\"\r\n                                                            className=\"form-control\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <label>\r\n                                                            Card Holders\r\n                                                        </label>\r\n                                                        <input\r\n                                                            type=\"text\"\r\n                                                            className=\"form-control\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-8\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label>\r\n                                                                    Expiration\r\n                                                                    Date\r\n                                                                </label>\r\n                                                                <div className=\"row\">\r\n                                                                    <div className=\"col-6\">\r\n                                                                        <Select\r\n                                                                            defaultValue={\r\n                                                                                1\r\n                                                                            }>\r\n                                                                            {month.map(\r\n                                                                                (\r\n                                                                                    item\r\n                                                                                ) => (\r\n                                                                                    <Option\r\n                                                                                        value={\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                        key={\r\n                                                                                            item\r\n                                                                                        }>\r\n                                                                                        {\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                    </Option>\r\n                                                                                )\r\n                                                                            )}\r\n                                                                        </Select>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-6\">\r\n                                                                        <Select\r\n                                                                            defaultValue={\r\n                                                                                2020\r\n                                                                            }>\r\n                                                                            {year.map(\r\n                                                                                (\r\n                                                                                    item\r\n                                                                                ) => (\r\n                                                                                    <Option\r\n                                                                                        value={\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                        key={\r\n                                                                                            item\r\n                                                                                        }>\r\n                                                                                        {\r\n                                                                                            item\r\n                                                                                        }\r\n                                                                                    </Option>\r\n                                                                                )\r\n                                                                            )}\r\n                                                                        </Select>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"col-4\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label>\r\n                                                                    CVV\r\n                                                                </label>\r\n                                                                <input\r\n                                                                    type=\"text\"\r\n                                                                    className=\"form-control\"\r\n                                                                />\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <button className=\"ps-btn ps-btn--fullwidth\">\r\n                                                            Submit\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div className=\"ps-block__tab\">\r\n                                                    <a\r\n                                                        className=\"ps-btn\"\r\n                                                        onClick={\r\n                                                            this.handlePurchase\r\n                                                        }>\r\n                                                        <LazyLoad>\r\n                                                            <img\r\n                                                                src=\"/static/img/meta-mask.png\"\r\n                                                                alt=\"Luxury Ledger Market\"\r\n                                                                style={{\r\n                                                                    paddingRight:\r\n                                                                        '15px',\r\n                                                                }}\r\n                                                            />\r\n                                                        </LazyLoad>\r\n                                                        Pay Now\r\n                                                    </a>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"ps-block__footer\">\r\n                                        <Link href=\"/account/shipping\">\r\n                                            <a>\r\n                                                <i className=\"icon-arrow-left mr-2\"></i>\r\n                                                Return to shipping\r\n                                            </a>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xl-4 col-lg-4 col-md-12 col-sm-12 \">\r\n                                <div className=\"ps-form__orders\">\r\n                                    <ModulePaymentOrderSummary />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log('state', state);\r\n    return { amount: state?.cart?.amount, account: state?.auth?.account };\r\n};\r\nexport default connect(mapStateToProps)(Payment);\r\n"]},"metadata":{},"sourceType":"module"}